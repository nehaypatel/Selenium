package Two;
import java.util.Iterator;

import java.util.Set;

import java.util.concurrent.TimeUnit;



import org.openqa.selenium.By;

import org.openqa.selenium.WebDriver;

import org.openqa.selenium.WebElement;

import org.openqa.selenium.firefox.FirefoxDriver;

import org.openqa.selenium.support.ui.ExpectedConditions;

import org.openqa.selenium.support.ui.WebDriverWait;





public class Childwindow {



public static void main(String[] args) {

// TODO Auto-generated method stub

System.setProperty("webdriver.gecko.driver", "E:\\Data\\Cloud\\OneDrive - hk sar baomin inc\\Selenium\\Drivers\\geckodriver.exe");

WebDriver driver = new FirefoxDriver();

driver.manage().window().maximize(); 

driver.manage().timeouts().implicitlyWait(10,TimeUnit.SECONDS);

driver.get("https://accounts.google.com/signup/v2/webcreateaccount?hl=en-GB&flowName=GlifWebSignIn&flowEntry=SignUp");

driver.findElement(By.xpath("//a[contains(text(),'Help')]")).click();

System.out.println(driver.getTitle());

Set<String>ids=driver.getWindowHandles();

Iterator<String>it=ids.iterator();

String pId=it.next();

String cId=it.next();

driver.switchTo().window(cId);

System.out.println(driver.getWindowHandles().size());

WebDriverWait myWait=new WebDriverWait(driver,5);

myWait.until(ExpectedConditions.numberOfWindowsToBe(driver.getWindowHandles().size()));

String c = driver.getTitle();

System.out.println(c);

driver.switchTo().window(pId);

System.out.println(driver.getTitle());

}



}